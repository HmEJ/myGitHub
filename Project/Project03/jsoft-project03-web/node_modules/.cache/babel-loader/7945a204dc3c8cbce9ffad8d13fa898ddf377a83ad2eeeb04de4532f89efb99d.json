{"ast":null,"code":"import \"core-js/modules/es.date.to-string.js\";\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nexport default {\n  data: function data() {\n    return {\n      arr: \"\",\n      isActive: true,\n      status1: \"display: block\",\n      status2: \"display: none\",\n      companyIcon: \"\",\n      //企业图标\n      companyName: \"\",\n      //企业名称\n      companyType: \"\",\n      //企业性质\n      companyField: \"\",\n      //企业行业\n      companyScale: \"\",\n      //企业规模\n      companyHome: \"\",\n      //企业主页\n      companyAddress: \"\",\n      //企业地址\n      companyText: \"\",\n      //企业介绍\n      followStatus: true,\n      followButtonClass: \"guanzhu\"\n    };\n  },\n  methods: {\n    show: function show(i) {\n      if (i == 1) {\n        this.isActive = true;\n        this.status1 = \"display:block\";\n        this.status2 = \"display: none\";\n      } else {\n        this.isActive = false;\n        this.status2 = \"display:block\";\n        this.status1 = \"display: none\";\n      }\n    },\n    /* 申请职位方法 */apply: function apply(item) {\n      var that = this;\n      var cookieValue = Cookies.get('cookieUserId');\n      axios({\n        method: \"post\",\n        url: '/api/apply',\n        data: {\n          userId: cookieValue,\n          companyId: item.companyId,\n          recruitId: item.recruitId\n        }\n      }).then(function (response) {\n        var data = response.data;\n        var code = data.code;\n        var msg = data.msg;\n        if (code === 300001) {\n          console.log(data);\n          item.userId = \"\";\n          alert(msg);\n        } else {\n          console.log(data);\n          alert(msg);\n        }\n      });\n    },\n    /* 关注企业的方法 */follow: function follow() {\n      var that = this;\n      var companyId = this.$route.query.companyId;\n      var cookieValue = Cookies.get('cookieUserId');\n      axios({\n        method: \"get\",\n        url: '/api/follow/followCompany/' + companyId + '/' + cookieValue\n      }).then(function (response) {\n        var data = response.data;\n        var code = data.code;\n        var msg = data.msg;\n        if (code === 100001) {\n          console.log(data);\n          alert(msg);\n          that.followStatus = false;\n        } else {\n          console.log(data);\n          alert(msg);\n        }\n      });\n    },\n    unfollow: function unfollow() {\n      var that = this;\n      var companyId = this.$route.query.companyId;\n      var cookieValue = Cookies.get('cookieUserId');\n      axios({\n        method: \"get\",\n        url: '/api/follow/unfollowCompany/' + companyId + '/' + cookieValue\n      }).then(function (response) {\n        var data = response.data;\n        var code = data.code;\n        var msg = data.msg;\n        if (code === 100001) {\n          console.log(data);\n          alert(msg);\n          that.followStatus = true;\n        } else {\n          console.log(data);\n          alert(msg);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var companyId = this.$route.query.companyId;\n    var that = this;\n    var cookieValue = Cookies.get('cookieUserId');\n    /* 获取企业信息 */\n    axios({\n      method: 'GET',\n      url: '/api/company/getCompanyInfo/' + companyId //你的后端路径\n    }).then(function (response) {\n      var data = response.data;\n      var code = data.code;\n      var msg = data.msg;\n      var info = data.object;\n      if (code === 200001) {\n        //判断你的请求是否成功\n        console.log(data);\n        that.companyIcon = require('@/../dist/static/images/' + info.companyIcon);\n        that.companyName = info.companyName;\n        that.companyType = info.companyType;\n        that.companyField = info.companyField;\n        that.companyScale = info.companyScale;\n        that.companyHome = info.companyHome;\n        that.companyAddress = info.companyAddress;\n        that.companyText = info.companyText;\n      } else {\n        alert(msg);\n      }\n    }, function (error) {\n      console.log('错误', error.message);\n      // alert(error.message)\n    }), /* 获取企业下所有招聘信息 */\n    axios({\n      method: 'GET',\n      url: '/api/company/getCompanyRecruit/' + companyId + '/' + cookieValue //你的后端路径\n    }).then(function (response) {\n      var data = response.data;\n      var code = data.code;\n      var msg = data.msg;\n      var info = data.object;\n      if (code === 200001) {\n        //判断你的请求是否成功\n        console.log(data);\n        that.arr = info;\n      } else {\n        alert(msg);\n      }\n    }, function (error) {\n      console.log('错误', error.message);\n      // alert(error.message)\n    }), /* 判断企业是否被关注 */\n    axios({\n      method: 'GET',\n      url: '/api/follow/checkFollowStatus/' + companyId + '/' + cookieValue\n    }).then(function (response) {\n      var data = response.data;\n      var code = data.code;\n      var msg = data.msg;\n      var info = data.object;\n      if (code === 100001) {\n        console.log(data);\n        that.followStatus = false;\n      } else {\n        console.log(data);\n      }\n    }, function (error) {\n      console.log('错误', error.message);\n      // alert(error.message)\n    });\n  },\n\n  computed: {\n    formattedDate: function formattedDate() {\n      var date = new Date(this.recruitTime);\n      return date.toLocaleString();\n    }\n  }\n};","map":{"version":3,"names":["axios","Cookies","data","arr","isActive","status1","status2","companyIcon","companyName","companyType","companyField","companyScale","companyHome","companyAddress","companyText","followStatus","followButtonClass","methods","show","i","apply","item","that","cookieValue","get","method","url","userId","companyId","recruitId","then","response","code","msg","console","log","alert","follow","$route","query","unfollow","mounted","info","object","require","error","message","computed","formattedDate","date","Date","recruitTime","toLocaleString"],"sources":["src/pages/page-info/components/CompanyView.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"compMain\">\n            <div class=\"main\">\n                <div class=\"CpLogo\">\n                    <img :src=\"companyIcon\" />\n                </div>\n                <div class=\"CpDetail\">\n                    <div class=\"CompanyName\">\n                        <span class=\"title\">{{ companyName }}</span>\n                        <img src=\"/static/images/16.png\" />\n                        <span class=\"guanzhu\" @click=\"follow\" v-if=\"followStatus\">+ 关注</span>\n                        <span class=\"ygz\" @click=\"unfollow\" v-if=\"!followStatus\">已关注</span>\n                    </div>\n                    <p>{{ companyType }} | {{ companyScale }} | {{ companyField }}</p>\n                    <p><a href=\"http://www.baidu.com\">{{ companyHome }}</a></p>\n                    <p>{{ companyAddress }}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"compcontent\">\n            <div class=\"comcontentL\">\n                <ul id=\"tabcompany\">\n                    <li :class=\"{ Active: isActive }\" @click=\"show(1)\">公司介绍</li>\n                    <li :class=\"{ Active: !isActive }\" @click=\"show(2)\">招聘职位</li>\n                    <div class=\"clear\"></div>\n                </ul>\n                <div class=\"clear\"></div>\n                <div id=\"contentcompany\">\n                    <ul :style=\"status1\">\n                        <div class=\"conts\">\n                            <p>{{ companyText }}\n                            </p>\n                        </div>\n                    </ul>\n                    <ul :style=\"status2\">\n                        <div class=\"zhiwei\" v-for=\"item in arr\" :key=\"item.recruitId\">\n                            <div class=\"zhiweiL\">\n                                <div class=\"zw1\">\n                                    <a :href=\"'/info?companyId='+item.companyId+'&recruitId='+item.recruitId\">{{ item.recruitName }}</a>\n                                    <span>[{{ item.recruitAddress }}]</span>\n                                </div>\n                                <div class=\"zw2\">\n                                    <span class=\"red\">月薪{{ item.recruitSalaryMin }}K-{{ item.recruitSalaryMax }}K</span> |\n                                    招聘{{ item.recruitNumber }}人 | {{ item.recruitType }} | {{ item.recruitAge }} | {{\n                                        item.recruitExp }} | {{ new Date(item.recruitTime).toLocaleString() }}刷新\n                                </div>\n                                <div class=\"zw3\">\n                                    岗位职责： {{ item.recruitTextDuty }}\n                                </div>\n                                <div class=\"zw3\">\n                                    岗位要求： {{ item.recruitTextNeed }}\n                                </div>\n                            </div>\n                            <div class=\"zhiweiR\">\n                                <a href=# :class=\"{'ysq':item.userId != null}\" @click=\"apply(item)\">{{ item.userId == null ? '立即申请' : '已申请' }}</a>\n                            </div>\n                        </div>  \n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"clear\"></div>\n        <div class=\"footer\">\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nexport default {\n    data() {\n        return {\n            arr: \"\",\n            isActive: true,\n            status1: \"display: block\",\n            status2: \"display: none\",\n            companyIcon: \"\",//企业图标\n            companyName: \"\",//企业名称\n            companyType: \"\",//企业性质\n            companyField: \"\",//企业行业\n            companyScale: \"\",//企业规模\n            companyHome: \"\",//企业主页\n            companyAddress: \"\",//企业地址\n            companyText: \"\",//企业介绍\n            followStatus: true,\n            followButtonClass: \"guanzhu\"\n        }\n    },\n    methods: {\n        show(i) {\n            if (i == 1) {\n                this.isActive = true\n                this.status1 = \"display:block\"\n                this.status2 = \"display: none\"\n            } else {\n                this.isActive = false\n                this.status2 = \"display:block\"\n                this.status1 = \"display: none\"\n            }\n        },\n        /* 申请职位方法 */\n        apply(item) {\n            let that = this;\n            const cookieValue = Cookies.get('cookieUserId');\n            axios({\n                method: \"post\",\n                url: '/api/apply',\n                data: {\n                    userId: cookieValue,\n                    companyId: item.companyId,\n                    recruitId: item.recruitId\n                }\n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    if (code === 300001) {\n                        console.log(data)\n                        item.userId = \"\"\n                        alert(msg)\n                    } else {\n                        console.log(data)\n                        alert(msg)\n                    }\n                })\n        },\n        /* 关注企业的方法 */\n        follow() {\n            let that = this;\n            let companyId = this.$route.query.companyId;\n            let cookieValue = Cookies.get('cookieUserId');\n            axios({\n                method: \"get\",\n                url: '/api/follow/followCompany/'+companyId+'/'+cookieValue,\n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    if (code === 100001) {\n                        console.log(data)\n                        alert(msg)\n                        that.followStatus = false\n                    } else {\n                        console.log(data)\n                        alert(msg)\n                    }\n                })\n        },\n        unfollow() {\n            let that = this\n            let companyId = this.$route.query.companyId;\n            let cookieValue = Cookies.get('cookieUserId');\n            axios({\n                method: \"get\",\n                url: '/api/follow/unfollowCompany/'+companyId+'/'+cookieValue,\n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    if (code === 100001) {\n                        console.log(data)\n                        alert(msg)\n                        that.followStatus = true\n                    } else {\n                        console.log(data)\n                        alert(msg)\n                    }\n                })\n        }\n    },\n    mounted() {\n        let companyId = this.$route.query.companyId\n        let that = this;\n        const cookieValue = Cookies.get('cookieUserId');\n        /* 获取企业信息 */\n        axios({\n            method: 'GET',\n            url: '/api/company/getCompanyInfo/' + companyId //你的后端路径\n        })\n            .then(response => {\n                let data = response.data\n                let code = data.code\n                let msg = data.msg\n                let info = data.object\n                if (code === 200001) { //判断你的请求是否成功\n                    console.log(data)\n                    that.companyIcon = require('@/../dist/static/images/' + info.companyIcon)\n                    that.companyName = info.companyName\n                    that.companyType = info.companyType\n                    that.companyField = info.companyField\n                    that.companyScale = info.companyScale\n                    that.companyHome = info.companyHome\n                    that.companyAddress = info.companyAddress\n                    that.companyText = info.companyText\n                } else {\n                    alert(msg)\n                }\n            }, error => {\n                console.log('错误', error.message)\n                // alert(error.message)\n            }),\n            /* 获取企业下所有招聘信息 */\n            axios({\n                method: 'GET',\n                url: '/api/company/getCompanyRecruit/' + companyId + '/' + cookieValue //你的后端路径\n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    let info = data.object\n                    if (code === 200001) { //判断你的请求是否成功\n                        console.log(data)\n                        that.arr = info\n                    } else {\n                        alert(msg)\n                    }\n                }, error => {\n                    console.log('错误', error.message)\n                    // alert(error.message)\n                }),\n                /* 判断企业是否被关注 */\n                axios({\n                method: 'GET',\n                url: '/api/follow/checkFollowStatus/' + companyId + '/' + cookieValue \n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    let info = data.object\n                    if (code === 100001) { \n                        console.log(data)\n                        that.followStatus = false\n                    } else {\n                        console.log(data)\n                    }\n                }, error => {\n                    console.log('错误', error.message)\n                    // alert(error.message)\n                })\n    },\n    computed: {\n        formattedDate() {\n            const date = new Date(this.recruitTime);\n            return date.toLocaleString();\n        },\n    },\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}