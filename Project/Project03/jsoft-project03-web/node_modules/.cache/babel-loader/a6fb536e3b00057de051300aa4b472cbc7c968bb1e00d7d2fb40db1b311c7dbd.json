{"ast":null,"code":"import _regeneratorRuntime from \"/home/joneelmo/A_mycode/jsoft-project03-web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/joneelmo/A_mycode/jsoft-project03-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nexport default {\n  data: function data() {\n    return {\n      arr: \"\",\n      isOn: true,\n      isNone: true,\n      userId: \"\",\n      dataTotal: \"\",\n      //总数据条数\n      pageNum: 1,\n      //第几页\n      pageTotal: \"\",\n      //总几页       \n      prePage: \"\",\n      //前一页\n      nextPage: \"\",\n      //后一页\n      like: \"\"\n    };\n  },\n  methods: {\n    showOn: function showOn(status) {\n      if (status == 'list') {\n        this.isOn = true, this.isNone = true;\n      } else {\n        this.isOn = false, this.isNone = false;\n      }\n    },\n    getMyApplyRecruit: function getMyApplyRecruit() {\n      var _this = this;\n      var that = this;\n      /* 获取进入页面的申请职位信息 */\n      axios({\n        method: 'GET',\n        url: '/api/apply/getAllUserApply/' + that.pageNum + '/' + that.userId + '?like=' + that.like\n      }).then(function (response) {\n        var data = response.data;\n        var code = data.code;\n        var msg = data.msg;\n        var info = data.object;\n        if (code === 200001) {\n          //判断你的请求是否成功\n          console.log(data);\n          _this.arr = info.list;\n          that.pageTotal = info.pages;\n          that.dataTotal = info.total;\n          that.prePage = info.prePage;\n          that.nextPage = info.nextPage;\n        } else {\n          alert(msg);\n        }\n      }, function (error) {\n        console.log('错误', error.message);\n        // alert(error.message)\n      });\n    },\n    // 跳转到第一页\n    goToFirstPage: function goToFirstPage() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (_this2.pageNum != 1) {\n                _this2.goToPage(1);\n              }\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    // 跳转到上一页\n    goToPreviousPage: function goToPreviousPage() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (_this3.pageNum > 1) {\n                _this3.goToPage(_this3.pageNum - 1);\n              }\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    // 跳转到下一页\n    goToNextPage: function goToNextPage() {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this4.pageNum < _this4.pageTotal) {\n                _this4.goToPage(_this4.pageNum + 1);\n              }\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    // 跳转到最后一页\n    goToLastPage: function goToLastPage() {\n      var _this5 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this5.pageNum != _this5.pageTotal) {\n                _this5.goToPage(_this5.pageTotal);\n              }\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    },\n    goToPage: function goToPage(page) {\n      var cookieValue = Cookies.get('cookieUserId');\n      this.pageNum = page;\n      console.log(this.pageNum);\n      this.getMyApplyRecruit();\n    }\n  },\n  mounted: function mounted() {\n    var cookieValue = Cookies.get('cookieUserId');\n    this.userId = cookieValue;\n    this.getMyApplyRecruit(null, this.pageNum, cookieValue);\n  }\n};","map":{"version":3,"names":["axios","Cookies","data","arr","isOn","isNone","userId","dataTotal","pageNum","pageTotal","prePage","nextPage","like","methods","showOn","status","getMyApplyRecruit","_this","that","method","url","then","response","code","msg","info","object","console","log","list","pages","total","alert","error","message","goToFirstPage","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","goToPage","stop","goToPreviousPage","_this3","_callee2","_callee2$","_context2","goToNextPage","_this4","_callee3","_callee3$","_context3","goToLastPage","_this5","_callee4","_callee4$","_context4","page","cookieValue","get","mounted"],"sources":["src/pages/page-personal/components/SelectView.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"personalBody\">\n            <div class=\"perRightcon\">\n                <div class=\"commonTit\">\n                    <h1 class=\"fl\">职位搜索</h1>\n                </div>\n                <div class=\"clear\"></div>\n                <div class=\"zwssPart1\">\n                    <div class=\"zxssPart1_1\">\n                        <input name=\"\" v-model=\"like\" type=\"text\" placeholder=\"请填写关键词或选择职位\" />\n                    </div>\n                    <div class=\"zxssPart1_4\">\n                        <input name=\"\" @click=\"getMyApplyRecruit()\" type=\"button\" value=\"搜工作\" />\n                    </div>\n                </div>\n                <div class=\"clear\"></div>\n                <div class=\"zwssPart3\">\n                    <div class=\"seachlist\">\n                        <div class=\"listtop\">\n                            <div class=\"tj1\" :class=\"{ on: !isOn }\">\n                                <span class=\"list\" :class=\"{ on: isOn }\" @click=\"showOn('list')\">列表</span>\n                                <span class=\"zhaoyao\" :class=\"{ on: !isOn }\" @click=\"showOn('zhaiyao')\">摘要</span>\n                            </div>\n                            <div class=\"tj3\">\n                                <span>共{{ this.dataTotal }}条 第{{ this.pageNum }}/{{ this.pageTotal }}页</span>\n                            </div>\n                        </div>\n                        <div class=\"clear\"></div>\n                        <div class=\"listcon\">\n                            <table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" class=\"listtab\">\n                                <thead>\n                                    <tr>\n                                        <th width=\"24%\" style=\"padding-left:17px\">职位名称</th>\n                                        <th width=\"20%\">企业名称</th>\n                                        <th width=\"9%\"></th>\n                                        <th width=\"10%\">工作地点</th>\n                                        <th width=\"10%\">薪水</th>\n                                        <th width=\"15%\">刷新时间</th>\n                                    </tr>\n                                </thead>\n                                <tbody v-for=\"item in arr\" :key=\"item.recruitId\">\n                                    <tr>\n                                        <td>\n                                            <a :href=\"'/info?companyId='+item.companyId+'&recruitId='+item.recruitId\" class=\"jobname\">{{ item.recruitName }}</a>\n                                        </td>\n                                        <td>\n                                            <div class=\"company\">\n                                                <a :href=\"'/info/company?companyId=' + item.companyId\">{{ item.companyName\n                                                }}</a>\n                                            </div>\n                                        </td>\n                                        <td></td>\n                                        <td>{{ item.recruitAddress }}</td>\n                                        <td><span>{{ item.recruitSalaryMin }}K-{{ item.recruitSalaryMax }}K</span></td>\n                                        <td>{{ new Date(item.recruitTime).toLocaleString() }}</td>\n                                    </tr>\n                                    <tr class=\"xxdetail\" :class=\"{ none: isNone }\">\n                                        <td colspan=\"5\">\n                                            <div class=\"yaoqiu\">学历要求：{{ item.recruitDegree }} | 工作经验：{{ item.recruitExp }} | 公司规模：{{ item.companyScale }} | 招聘方式：{{ item.recruitType }}<br />\n                                                岗位职责：{{ item.recruitTextDuty.slice(0,50)+\"...\" }}<br />\n                                                岗位要求：{{ item.recruitTextNeed.slice(0,50)+\"...\" }}\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <div class=\"applydiv\">\n                                                <a href=\"javascript:void(0);\"  class=\"ysqbtn\">已申请</a>\n                                                <span :class=\"{'ygz':item.followStatus == 1}\">{{ item.followStatus == 1?\"已关注\":\"未关注\" }}</span>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"clear\"></div>\n                        <div class=\"listbottom\">\n                            <div class=\"lb3\"><span>共{{ this.dataTotal }}条 第{{ this.pageNum }}/{{ this.pageTotal }}页</span>\n                            </div>\n                        </div>\n                        <div class=\"clear\"></div>\n                        <div class=\"fenyediv\">\n                            <a href=\"javascript:void(0)\" @click=\"goToFirstPage()\" class=\"fy1\">首页</a>\n                            <a href=\"javascript:void(0)\" @click=\"goToPreviousPage()\" class=\"fy1\">上一页</a>\n                            <a href=\"javascript:void(0)\" v-for=\"(page, index) in this.pageTotal\" :key=\"index\"\n                                :class=\"{ 'fy2': true, 'on': page == pageNum }\" @click=\"goToPage(page)\">\n                                {{ page }}\n                            </a>\n                            <a href=\"javascript:void(0)\" @click=\"goToNextPage()\" class=\"fy1\">下一页</a>\n                            <a href=\"javascript:void(0)\" @click=\"goToLastPage()\" class=\"fy1\">尾页</a>\n                        </div>\n                        <div class=\"clear\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"clear\"></div>\n        <div class=\"footer\"></div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport Cookies from 'js-cookie';\nexport default {\n    data() {\n        return {\n            arr: \"\",\n            isOn: true,\n            isNone: true,\n            userId: \"\",\n            dataTotal: \"\",//总数据条数\n            pageNum: 1,//第几页\n            pageTotal: \"\",//总几页       \n            prePage: \"\",//前一页\n            nextPage: \"\",//后一页\n            like:\"\",\n        }\n    },\n    methods: {\n        showOn(status) {\n            if (status == 'list') {\n                this.isOn = true,\n                    this.isNone = true\n            } else {\n                this.isOn = false,\n                    this.isNone = false\n            }\n        },\n        getMyApplyRecruit() {\n            let that = this\n            /* 获取进入页面的申请职位信息 */\n            axios({\n                method: 'GET',\n                url: '/api/apply/getAllUserApply/' + that.pageNum + '/' + that.userId+'?like='+ that.like\n            })\n                .then(response => {\n                    let data = response.data\n                    let code = data.code\n                    let msg = data.msg\n                    let info = data.object\n                    if (code === 200001) { //判断你的请求是否成功\n                        console.log(data)\n                        this.arr = info.list\n                        that.pageTotal = info.pages\n                        that.dataTotal = info.total\n                        that.prePage = info.prePage\n                        that.nextPage = info.nextPage\n                    } else {\n                        alert(msg)\n                    }\n                }, error => {\n                    console.log('错误', error.message)\n                    // alert(error.message)\n                })\n        },\n        // 跳转到第一页\n        async goToFirstPage() {\n            if (this.pageNum != 1) {\n                this.goToPage(1);\n            }\n        },\n        // 跳转到上一页\n        async goToPreviousPage() {\n            if (this.pageNum > 1) {\n                this.goToPage(this.pageNum - 1);\n            }\n        },\n        // 跳转到下一页\n        async goToNextPage() {\n            if (this.pageNum < this.pageTotal) {\n                this.goToPage(this.pageNum + 1);\n            }\n        },\n        // 跳转到最后一页\n        async goToLastPage() {\n            if (this.pageNum != this.pageTotal) {\n                this.goToPage(this.pageTotal);\n            }\n        },\n         goToPage(page) {\n            const cookieValue = Cookies.get('cookieUserId');\n            this.pageNum = page\n            console.log(this.pageNum)\n            this.getMyApplyRecruit()\n        },\n    },\n    mounted() {\n        const cookieValue = Cookies.get('cookieUserId');\n        this.userId = cookieValue\n        this.getMyApplyRecruit(null, this.pageNum, cookieValue)\n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}